# 퍼스널 컬러 기반 립 추천 및 텍스처 합성 시스템

*(System Overview – A4 One Page)*

---

## 1. 시스템 전체 개요

본 시스템은 사용자의 얼굴 이미지를 기반으로 **퍼스널 컬러 타입을 1종 확정**하고,  
해당 타입에 매핑된 **립 컬러 1종을 추천**한 뒤,  
**사용자가 선택한 텍스처(Glossy / Matte / Satin)** 를 적용하여  
최종 가상 립 메이크업 이미지를 생성하는 구조로 설계된다.

> **컬러(Color)는 시스템이 판단하고,  
> 텍스처(Texture)는 사용자가 선택한다.**

---

## 2. 전체 관계 다이어그램 (핵심)

```
┌─────────────────────┐
│   얼굴 입력 이미지   │
│  (조명/WB 고정)      │
└─────────┬───────────┘
          │
          ▼
┌─────────────────────┐
│ 퍼스널 컬러 분석 모듈 │
│ - 피부 ROI 추출      │
│ - LAB 분석           │
│ - 계절/톤 판정       │
└─────────┬───────────┘
          │
          ▼
┌─────────────────────────────────┐
│ 퍼스널 컬러 타입 1종 확정        │
│ + 매핑된 립 컬러 1종 추천        │
└─────────┬───────────────────────┘
          │
          │ (컬러 고정)
          ▼
┌─────────────────────┐      ┌──────────────────┐
│   사용자 UI          │◀────▶│ 텍스처 선택 UI    │
│  결과 안내           │      │ Glossy / Matte / │
│  (컬러 설명)         │      │ Satin            │
└─────────┬───────────┘      └─────────┬────────┘
          │                              │
          └──────────────┬───────────────┘
                         ▼
            ┌───────────────────────────┐
            │  립 합성 엔진 (후처리)      │
            │ - 컬러 적용                │
            │ - 텍스처 파라미터 적용     │
            └─────────────┬─────────────┘
                          ▼
              ┌────────────────────────┐
              │ 최종 합성 결과 이미지   │
              └────────────────────────┘
```

---

## 3. 책임 범위 정의 (Responsibility Matrix)

| 구분 | 담당 주체 | 책임 내용 |
|---|---|---|
| 얼굴 입력 | 하드웨어 / 촬영 시스템 | 조명 CCT 고정, WB 매칭, 일관된 입력 확보 |
| 피부 ROI 추출 | 비전/전처리 모듈 | 입술·눈 제외, 피부 영역 안정적 추출 |
| 퍼스널 컬러 분석 | **알고리즘 모듈** | LAB 분석, 계절·톤 판정 |
| 컬러 결정 | **알고리즘 모듈** | 퍼스널 컬러 타입 1종 확정 |
| 립 컬러 선택 | **시스템 규칙** | 타입 ↔ 립 컬러 1:1 매핑 |
| 텍스처 선택 | **사용자(UI)** | Glossy / Matte / Satin 선택 |
| 립 합성 | 합성/렌더링 엔진 | 컬러 + 텍스처 시각적 적용 |
| 결과 표현 | UI / 프론트엔드 | 최종 이미지 및 설명 표시 |

---

## 4. 컬러와 텍스처의 역할 분리 (중요)

### 컬러(Color)
- **시스템 판단 영역**
- 퍼스널 컬러 알고리즘 결과
- 사용자 개입 없음
- 결과는 **1종으로 확정**

### 텍스처(Texture)
- **사용자 선택 영역**
- 취향 기반 (진단 대상 아님)
- Glossy / Matte / Satin
- 컬러 결과에 **후처리로 적용**

> 컬러 로직과 텍스처 로직은 **완전히 독립된 모듈**로 설계된다.

---

## 5. 사용자 관점 요약 흐름

1. 얼굴 촬영
2. “당신에게 가장 조화로운 립 컬러를 추천합니다”
3. 추천 컬러 확인
4. 텍스처 선택 (Glossy / Matte / Satin)
5. 최종 합성 결과 확인

---

## 6. 시스템 설계 핵심 문장 (공식)

> **피부 톤의 밝기와 색감, 그리고 웜/쿨 성향을 기준으로  
> 가장 조화로운 립 컬러를 추천하고,  
> 사용자가 선택한 텍스처를 적용해 결과를 제공합니다.**

---

### 문서 요약
- A4 1장 분량 대응
- 다이어그램 중심 구조 설명
- 책임 범위 명확화
- 개발 / 디자인 / 외주 커뮤니케이션 공용 문서
- 향후 확장에도 구조 유지 가능

